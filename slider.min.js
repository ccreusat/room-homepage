function Slider(){"use strict";const prev=document.getElementById("prev"),next=document.getElementById("next");let touchStartX=0,touchEndX=0;const slideWrapper=document.getElementById("slider-image"),slides=document.querySelectorAll(".slide");let slidesLength=slides.length;const currentSlide=slides[0],lastSlide=slides[slidesLength-1],cloneFirstSlide=currentSlide.cloneNode(!0),cloneLastSlide=lastSlide.cloneNode(!0),contentWrapper=document.getElementById("slider-content"),contents=document.querySelectorAll(".content");let contentsLength=contents.length;const currentContent=contents[0],lastContent=contents[contentsLength-1],cloneFirstContent=currentContent.cloneNode(!0),cloneLastContent=lastContent.cloneNode(!0),mediaQueryMAX=window.matchMedia("(max-width: 50em)"),mediaQueryMIN=window.matchMedia("(min-width: 50em)");let index=1;function matchMedia(){mediaQueryMAX.matches&&(document.querySelector(".slider-content").style.maxHeight=currentContent.clientHeight+"px",document.querySelector(".slider-content").style.overflow="hidden"),mediaQueryMIN.matches&&document.querySelector(".slider-content").removeAttribute("style")}function addClones(){slideWrapper.appendChild(cloneFirstSlide),slideWrapper.insertBefore(cloneLastSlide,currentSlide),slideWrapper.style.left=-currentSlide.offsetWidth+"px",contentWrapper.appendChild(cloneFirstContent),contentWrapper.insertBefore(cloneLastContent,currentContent),contentWrapper.style.top=-currentContent.clientHeight+"px"}function onResize(){window.addEventListener("resize",()=>{slideWrapper.style.left=-currentSlide.offsetWidth*index+"px",contentWrapper.style.top=-currentContent.clientHeight*index+"px",matchMedia()})}function changeSlide(){slideWrapper.style.left=-currentSlide.offsetWidth*index+"px",contentWrapper.style.top=-currentContent.clientHeight*index+"px"}function moveSlide(direction){slidesLength=document.querySelectorAll(".slide").length,slideWrapper.classList.add("transitionLeft"),contentWrapper.classList.add("transitionTop"),-1===direction&&(index--,changeSlide(),0===index&&(index=3,slideWrapper.addEventListener("transitionend",()=>{slideWrapper.style.left=-currentSlide.offsetWidth*index+"px",contentWrapper.style.top=-currentContent.clientHeight*index+"px"}))),1===direction&&(index++,changeSlide(),index===slidesLength-1&&(index=1,slideWrapper.addEventListener("transitionend",()=>{slideWrapper.style.left=-currentSlide.offsetWidth*index+"px",contentWrapper.style.top=-currentContent.clientHeight*index+"px"}))),slideWrapper.addEventListener("transitionend",()=>{slideWrapper.classList.remove("transitionLeft"),contentWrapper.classList.remove("transitionTop")})}function dragStart(e){touchStartX=e.touches[0].clientX}function dragAction(e){touchEndX=e.touches[0].clientX}function dragEnd(){handleGesture()}function handleGesture(){touchEndX<touchStartX&&moveSlide(1),touchEndX>touchStartX&&moveSlide(-1)}prev.addEventListener("click",()=>moveSlide(-1)),next.addEventListener("click",()=>moveSlide(1)),document.addEventListener("keydown",e=>{"ArrowLeft"===e.key&&moveSlide(-1),"ArrowRight"===e.key&&moveSlide(1)}),slideWrapper.addEventListener("touchstart",dragStart),slideWrapper.addEventListener("touchmove",dragAction),slideWrapper.addEventListener("touchend",dragEnd),addClones(),matchMedia(),onResize(),mediaQueryMAX.addEventListener("change",matchMedia),mediaQueryMIN.addEventListener("change",matchMedia)}